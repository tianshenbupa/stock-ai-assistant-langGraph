# è‚¡ç¥¨æŠ•èµ„ AI åŠ©æ‰‹ (LangGraph ç‰ˆæœ¬)

> ä½¿ç”¨ **LangGraph** å’Œ **DeepSeek** æ„å»ºçš„ä¼ä¸šçº§å¤šä»£ç†è‚¡ç¥¨æŠ•èµ„åˆ†æç³»ç»Ÿ

[![Architecture](https://img.shields.io/badge/Architecture-LangGraph-blue)](https://github.com/langchain-ai/langgraph)
[![Python](https://img.shields.io/badge/Python-3.10%2B-green)](https://www.python.org/)
[![LangGraph](https://img.shields.io/badge/LangGraph-Latest-blueviolet)](https://langchain-ai.github.io/langgraph/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109%2B-red)](https://fastapi.tiangolo.com/)

---

## ğŸ“‹ ç›®å½•

- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [é…ç½®è¯´æ˜](#ï¸-é…ç½®è¯´æ˜)
- [è¿›é˜¶ç”¨æ³•](#-è¿›é˜¶ç”¨æ³•)
- [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)

---

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### 1. LangGraph å¤šä»£ç†ç¼–æ’

- âœ… å¹¶è¡Œæ‰§è¡Œä¸‰ä¸ªä¸“å®¶ä»£ç†ï¼ˆè´¢åŠ¡ã€å¸‚åœºã€ä¼°å€¼ï¼‰
- âœ… è‡ªåŠ¨ä¾èµ–ç®¡ç†å’ŒçŠ¶æ€ä¼ é€’
- âœ… å®Œæ•´çš„å·¥ä½œæµå¯è§‚æµ‹æ€§å’Œè°ƒè¯•èƒ½åŠ›
- âœ… å†…ç½®æ£€æŸ¥ç‚¹å’ŒæŒä¹…åŒ–æ”¯æŒ

### 2. æ™ºèƒ½ä»£ç†ç³»ç»Ÿ

| ä»£ç† | åŠŸèƒ½æè¿° |
|------|----------|
| ğŸ¦ **è´¢åŠ¡åˆ†æä»£ç†** | åˆ†æè´¢åŠ¡æŠ¥è¡¨ã€è´¢åŠ¡æ¯”ç‡ã€è¶‹åŠ¿å˜åŒ– |
| ğŸ“ˆ **å¸‚åœºåˆ†æä»£ç†** | è‚¡ä»·èµ°åŠ¿ã€å¸‚åœºæƒ…ç»ªã€æ–°é—»èˆ†æƒ… |
| ğŸ’ **ä¼°å€¼ä¸“å®¶ä»£ç†** | PEã€PBã€DCF ç­‰å¤šç»´åº¦ä¼°å€¼æ–¹æ³• |
| ğŸ‘” **ä¸»ç®¡ç†ä»£ç†** | ç»¼åˆæ‰€æœ‰åˆ†æï¼Œç”Ÿæˆæœ€ç»ˆæŠ•èµ„å»ºè®® |

### 3. è´¢æŠ¥ RAG ç³»ç»Ÿ

- ğŸ“„ è‡ªåŠ¨åŠ è½½å’Œå¤„ç† PDF è´¢æŠ¥
- ğŸ” è¯­ä¹‰æ£€ç´¢ + å‘é‡æœç´¢
- ğŸ’¾ Chroma å‘é‡æ•°æ®åº“
- âš¡ é«˜æ•ˆçš„ä¿¡æ¯æ£€ç´¢

### 4. ç”Ÿäº§çº§ç‰¹æ€§

- ğŸ” å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—ç³»ç»Ÿ
- ğŸ“Š è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ (Swagger UI + ReDoc)
- ğŸ”„ CORS è·¨åŸŸæ”¯æŒ
- ğŸš¦ å¥åº·æ£€æŸ¥å’Œç›‘æ§ç«¯ç‚¹
- ğŸ’¾ æ£€æŸ¥ç‚¹å’ŒçŠ¶æ€æŒä¹…åŒ–

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### LangGraph å·¥ä½œæµå›¾

```mermaid
graph TD
    A[START - ç”¨æˆ·è¾“å…¥] --> B[è´¢åŠ¡åˆ†æä»£ç†]
    A --> C[å¸‚åœºåˆ†æä»£ç†]
    A --> D[ä¼°å€¼ä¸“å®¶ä»£ç†]
    
    B --> E[ä¸»ç®¡ç†ä»£ç†]
    C --> E
    D --> E
    
    E --> F[END - æœ€ç»ˆå»ºè®®]
    
    B -.-> G[è´¢æŠ¥ RAG<br/>è´¢åŠ¡æŒ‡æ ‡<br/>è¶‹åŠ¿åˆ†æ]
    C -.-> H[è‚¡ä»·æ•°æ®<br/>å¸‚åœºæƒ…ç»ª<br/>æ–°é—»ä¿¡æ¯]
    D -.-> I[PE æ¯”ç‡<br/>DCF ä¼°å€¼<br/>å†…åœ¨ä»·å€¼]
```

### ä»£ç†äº¤äº’æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·è¯·æ±‚                              â”‚
â”‚  â”œâ”€ è‚¡ç¥¨ä»£ç : AAPL                                          â”‚
â”‚  â”œâ”€ é—®é¢˜: å€¼å¾—æŠ•èµ„å—ï¼Ÿ                                       â”‚
â”‚  â””â”€ åˆ†æåå¥½: [è´¢åŠ¡, å¸‚åœº, ä¼°å€¼]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    LangGraph æ‰§è¡Œå¼•æ“              â”‚
        â”‚  (è‡ªåŠ¨å¤„ç†å¹¶è¡Œã€é¡ºåºã€çŠ¶æ€)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ è´¢åŠ¡åˆ†æ â”‚     â”‚ å¸‚åœºåˆ†æ â”‚     â”‚ ä¼°å€¼åˆ†æ â”‚
   â”‚         â”‚     â”‚         â”‚     â”‚         â”‚
   â”‚ æ£€ç´¢è´¢æŠ¥ â”‚     â”‚ è·å–ä»·æ ¼ â”‚     â”‚ è®¡ç®— PE â”‚
   â”‚ è®¡ç®—æ¯”ç‡ â”‚     â”‚ è¯„ä¼°æƒ…ç»ª â”‚     â”‚ DCFæ¨¡å‹ â”‚
   â”‚ åˆ†æè¶‹åŠ¿ â”‚     â”‚ åˆ†ææ–°é—» â”‚     â”‚ å†…åœ¨ä»·å€¼â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                â”‚                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚   ä¸»ç®¡ç†ä»£ç†ç»¼åˆåˆ†æ   â”‚
             â”‚   ç”ŸæˆæŠ•èµ„å»ºè®®         â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚  è¿”å›ç»“æ„åŒ–å»ºè®®        â”‚
             â”‚  â€¢ è¯„åˆ† (1-10)        â”‚
             â”‚  â€¢ å»ºè®® (ä¹°/æŒ/å–)    â”‚
             â”‚  â€¢ ç›®æ ‡ä»·æ ¼           â”‚
             â”‚  â€¢ é£é™©è¯„ä¼°           â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

| è¦æ±‚ | ç‰ˆæœ¬/è¯´æ˜ |
|------|-----------|
| **Python** | 3.10 æˆ–æ›´é«˜ |
| **DeepSeek API Key** | [è·å–åœ°å€](https://api.deepseek.com) |
| **å†…å­˜** | 8GB+ (æ¨è 16GB+) |
| **åŒ…ç®¡ç†å™¨** | pip æˆ– conda |

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/stock-ai-assistant.git
cd stock-ai-assistant
```

### 2ï¸âƒ£ åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# ä½¿ç”¨ venv
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate          # Linux/Mac
# æˆ–
.\venv\Scripts\activate           # Windows
```

### 3ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
# å‡çº§ pip
pip install --upgrade pip

# å®‰è£…é¡¹ç›®ä¾èµ–
pip install -r requirements.txt
```

### 4ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶
nano .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

**é…ç½®ç¤ºä¾‹ (`.env`)ï¼š**

```bash
# ========== DeepSeek API ==========
DEEPSEEK_API_KEY=sk-your-api-key-here
DEEPSEEK_API_BASE=https://api.deepseek.com/v1

# ========== RAG é…ç½® ==========
VECTOR_STORE_PATH=data/vector_store
PDF_DIRECTORY=data/financial_reports
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# ========== LangGraph æ£€æŸ¥ç‚¹ ==========
CHECKPOINTS_PATH=data/checkpoints

# ========== æœåŠ¡å™¨é…ç½® ==========
HOST=0.0.0.0
PORT=8000
DEBUG=True
```

### 5ï¸âƒ£ å‡†å¤‡è´¢æŠ¥æ•°æ®

```bash
# åˆ›å»ºè´¢æŠ¥ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
mkdir -p data/financial_reports

# å°† PDF è´¢æŠ¥æ”¾å…¥ç›®å½•
cp /path/to/AAPL_2024_10K.pdf data/financial_reports/
cp /path/to/MSFT_2024_10K.pdf data/financial_reports/
```

### 6ï¸âƒ£ å¯åŠ¨åº”ç”¨

```bash
# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡è½½ï¼‰
python main.py

# æˆ–ä½¿ç”¨ uvicorn
uvicorn main:app --reload
```

**é¢„æœŸè¾“å‡ºï¼š**

```
==================================================
ğŸš€ è‚¡ç¥¨æŠ•èµ„ AI åŠ©æ‰‹ï¼ˆLangGraph ç‰ˆæœ¬ï¼‰å¯åŠ¨ä¸­...
==================================================
ğŸ“š åˆå§‹åŒ– RAG ç³»ç»Ÿ...
âœ… å·²åŠ è½½ X ä¸ªæ–‡æ¡£å—
âœ… åº”ç”¨å¯åŠ¨å®Œæˆ
==================================================
INFO:     Uvicorn running on http://0.0.0.0:8000
INFO:     Press CTRL+C to quit
```

### 7ï¸âƒ£ è®¿é—®åº”ç”¨

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š

| åŠŸèƒ½ | URL |
|------|-----|
| **Swagger UI** | http://localhost:8000/docs |
| **ReDoc** | http://localhost:8000/redoc |
| **API æ ¹è·¯ç”±** | http://localhost:8000 |

---

## ğŸ“š API æ–‡æ¡£

### ä¸»è¦ç«¯ç‚¹

#### 1. å®Œæ•´è‚¡ç¥¨åˆ†æï¼ˆæ¨èï¼‰

**è¯·æ±‚ï¼š**

```http
POST /api/analyze
Content-Type: application/json

{
  "stock_ticker": "AAPL",
  "query": "è‹¹æœå…¬å¸æ˜¯å¦å€¼å¾—æŠ•èµ„ï¼Ÿ"
}
```

**å“åº”ï¼š**

```json
{
  "stock_ticker": "AAPL",
  "query": "è‹¹æœå…¬å¸æ˜¯å¦å€¼å¾—æŠ•èµ„ï¼Ÿ",
  "timestamp": "2024-01-15T10:30:00",
  "analysis": "ç»¼åˆåˆ†æç»“æœ...",
  "recommendation": "ä¹°å…¥",
  "target_price": 185.50
}
```

**å·¥ä½œæµï¼š**

1. ğŸ“Š è´¢åŠ¡åˆ†æä»£ç†æ‰§è¡Œ (å¹¶è¡Œ)
2. ğŸ“ˆ å¸‚åœºåˆ†æä»£ç†æ‰§è¡Œ (å¹¶è¡Œ)
3. ğŸ’ ä¼°å€¼ä¸“å®¶ä»£ç†æ‰§è¡Œ (å¹¶è¡Œ)
4. ğŸ‘” ä¸»ç®¡ç†ä»£ç†ç»¼åˆæ‰€æœ‰ç»“æœ
5. ğŸ“¤ è¿”å›ç»“æ„åŒ–å»ºè®®

#### 2. ä»…è´¢åŠ¡åˆ†æ

```http
POST /api/analyze/financial?stock_ticker=AAPL&query=æ”¶å…¥å¢é•¿å¦‚ä½•ï¼Ÿ
```

#### 3. ä»…å¸‚åœºåˆ†æ

```http
POST /api/analyze/market?stock_ticker=AAPL&query=å¸‚åœºæƒ…ç»ªå¦‚ä½•ï¼Ÿ
```

#### 4. ä»…ä¼°å€¼åˆ†æ

```http
POST /api/analyze/valuation?stock_ticker=AAPL&query=å†…åœ¨ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ
```

#### 5. RAG æŸ¥è¯¢è´¢æŠ¥

```http
POST /api/rag/query?query=è‹¹æœæ”¶å…¥&stock_ticker=AAPL
```

#### 6. åˆå§‹åŒ– RAG

```http
POST /api/rag/initialize
```

#### 7. å¥åº·æ£€æŸ¥

```http
GET /health
```

#### 8. åº”ç”¨ä¿¡æ¯

```http
GET /api/info
```

---

### ä½¿ç”¨ç¤ºä¾‹

#### Python

```python
import requests

url = "http://localhost:8000/api/analyze"
payload = {
    "stock_ticker": "AAPL",
    "query": "è‹¹æœå…¬å¸ 2024 å¹´å€¼å¾—æŠ•èµ„å—ï¼Ÿ"
}

response = requests.post(url, json=payload)
result = response.json()
print(f"å»ºè®®: {result['recommendation']}")
print(f"è¯„åˆ†: {result.get('score', 'N/A')}")
```

#### cURL

```bash
curl -X POST "http://localhost:8000/api/analyze" \
  -H "Content-Type: application/json" \
  -d '{
    "stock_ticker": "AAPL",
    "query": "è‹¹æœå…¬å¸å€¼å¾—æŠ•èµ„å—ï¼Ÿ"
  }'
```

#### JavaScript/TypeScript

```javascript
const analyzeStock = async (ticker, query) => {
  const response = await fetch("http://localhost:8000/api/analyze", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      stock_ticker: ticker,
      query: query
    })
  });
  
  const result = await response.json();
  console.log(result);
  return result;
};

// ä½¿ç”¨ç¤ºä¾‹
analyzeStock("AAPL", "è‹¹æœå…¬å¸å€¼å¾—æŠ•èµ„å—ï¼Ÿ");
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
stock-ai-assistant/
â”‚
â”œâ”€â”€ ğŸ“„ main.py                       # FastAPI åº”ç”¨å…¥å£
â”œâ”€â”€ ğŸ“„ requirements.txt              # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ ğŸ“„ .env.example                  # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ ğŸ“„ .gitignore                    # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ README.md                     # é¡¹ç›®æ–‡æ¡£
â”‚
â”œâ”€â”€ ğŸ“ config/                       # é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py                  # é…ç½®ç®¡ç†ï¼ˆPydanticï¼‰
â”‚   â””â”€â”€ prompts.py                   # ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿
â”‚
â”œâ”€â”€ ğŸ“ data/                         # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ ğŸ“ financial_reports/        # PDF è´¢æŠ¥æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ .gitkeep
â”‚   â”œâ”€â”€ ğŸ“ vector_store/             # Chroma å‘é‡æ•°æ®åº“
â”‚   â”‚   â””â”€â”€ .gitkeep
â”‚   â””â”€â”€ ğŸ“ checkpoints/              # LangGraph æ£€æŸ¥ç‚¹
â”‚       â””â”€â”€ .gitkeep
â”‚
â””â”€â”€ ğŸ“ src/                          # æºä»£ç æ¨¡å—
    â”œâ”€â”€ __init__.py
    â”‚
    â”œâ”€â”€ ğŸ“ core/                     # æ ¸å¿ƒæ¨¡å—
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ llm.py                   # DeepSeek LLM åˆå§‹åŒ–
    â”‚   â””â”€â”€ models.py                # Pydantic æ•°æ®æ¨¡å‹
    â”‚
    â”œâ”€â”€ ğŸ“ rag/                      # æ£€ç´¢å¢å¼ºç”Ÿæˆæ¨¡å—
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ loader.py                # PDF åŠ è½½å’Œå¤„ç†
    â”‚   â””â”€â”€ retriever.py             # å‘é‡æ£€ç´¢
    â”‚
    â”œâ”€â”€ ğŸ“ tools/                    # å·¥å…·å‡½æ•°æ¨¡å—
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ financial.py             # è´¢åŠ¡åˆ†æå·¥å…·
    â”‚   â”œâ”€â”€ market.py                # å¸‚åœºæ•°æ®å·¥å…·
    â”‚   â””â”€â”€ valuation.py             # ä¼°å€¼è®¡ç®—å·¥å…·
    â”‚
    â””â”€â”€ ğŸ“ graph/                    # ğŸ†• LangGraph æ ¸å¿ƒæ¨¡å—
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ state.py                 # çŠ¶æ€å®šä¹‰ï¼ˆTypedDictï¼‰
        â”œâ”€â”€ nodes.py                 # èŠ‚ç‚¹å‡½æ•°ï¼ˆä»£ç†é€»è¾‘ï¼‰
        â””â”€â”€ workflow.py              # å·¥ä½œæµå®šä¹‰
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡è¯¦è§£

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ | å¿…å¡« |
|--------|------|--------|------|
| `DEEPSEEK_API_KEY` | DeepSeek API å¯†é’¥ | - | âœ… |
| `DEEPSEEK_API_BASE` | API åŸºç¡€ URL | `https://api.deepseek.com/v1` | âŒ |
| `VECTOR_STORE_PATH` | å‘é‡æ•°æ®åº“è·¯å¾„ | `data/vector_store` | âŒ |
| `PDF_DIRECTORY` | è´¢æŠ¥æ–‡ä»¶ç›®å½• | `data/financial_reports` | âŒ |
| `CHUNK_SIZE` | æ–‡æ¡£åˆ†å—å¤§å° | `1000` | âŒ |
| `CHUNK_OVERLAP` | åˆ†å—é‡å å¤§å° | `200` | âŒ |
| `CHECKPOINTS_PATH` | æ£€æŸ¥ç‚¹å­˜å‚¨è·¯å¾„ | `data/checkpoints` | âŒ |
| `HOST` | æœåŠ¡å™¨åœ°å€ | `0.0.0.0` | âŒ |
| `PORT` | æœåŠ¡å™¨ç«¯å£ | `8000` | âŒ |
| `DEBUG` | è°ƒè¯•æ¨¡å¼ | `False` | âŒ |

---

## ğŸ¯ è¿›é˜¶ç”¨æ³•

### è‡ªå®šä¹‰ä»£ç†æç¤ºè¯

ç¼–è¾‘ `config/prompts.py` æ–‡ä»¶æ¥è‡ªå®šä¹‰ä»£ç†è¡Œä¸ºï¼š

```python
FINANCIAL_AGENT_PROMPT = """
ä½ æ˜¯ä¸€ä½èµ„æ·±è´¢åŠ¡åˆ†æå¸ˆ...
[è‡ªå®šä¹‰æç¤ºè¯]
"""
```

### æ·»åŠ æ–°çš„åˆ†æå·¥å…·

åœ¨ `src/tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å·¥å…·æ¨¡å—ï¼š

```python
# src/tools/sentiment.py
def analyze_sentiment(stock_ticker: str) -> dict:
    """åˆ†æè‚¡ç¥¨å¸‚åœºæƒ…ç»ª"""
    # å®ç°é€»è¾‘
    pass
```

### è°ƒæ•´å·¥ä½œæµ

åœ¨ `src/graph/workflow.py` ä¸­ä¿®æ”¹ LangGraph å·¥ä½œæµï¼š

```python
from langgraph.graph import StateGraph

workflow = StateGraph(AgentState)
workflow.add_node("financial", financial_agent)
workflow.add_node("market", market_agent)
# æ·»åŠ æ–°èŠ‚ç‚¹...
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. API Key é”™è¯¯

```
Error: Invalid API key
```

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `DEEPSEEK_API_KEY` æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ API key æœ‰æ•ˆä¸”æœªè¿‡æœŸ

#### 2. ç«¯å£è¢«å ç”¨

```
Error: Address already in use
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8000

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# æˆ–æ›´æ”¹ç«¯å£
PORT=8001 python main.py
```

#### 3. PDF åŠ è½½å¤±è´¥

```
Error: No documents found in directory
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®è®¤ `data/financial_reports/` ç›®å½•ä¸‹æœ‰ PDF æ–‡ä»¶
- æ£€æŸ¥æ–‡ä»¶æƒé™
- è¿è¡Œ `POST /api/rag/initialize` é‡æ–°åˆå§‹åŒ–

#### 4. å†…å­˜ä¸è¶³

```
Error: Out of memory
```

**è§£å†³æ–¹æ¡ˆï¼š**
- å‡å°‘ `CHUNK_SIZE` é…ç½®
- é™åˆ¶åŒæ—¶åŠ è½½çš„æ–‡æ¡£æ•°é‡
- å¢åŠ ç³»ç»Ÿå†…å­˜

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶

- **[LangGraph](https://langchain-ai.github.io/langgraph/)** - å¤šä»£ç†ç¼–æ’æ¡†æ¶
- **[LangChain](https://python.langchain.com/)** - LLM åº”ç”¨å¼€å‘æ¡†æ¶
- **[FastAPI](https://fastapi.tiangolo.com/)** - ç°ä»£ Web æ¡†æ¶

### AI/ML

- **[DeepSeek](https://www.deepseek.com/)** - å¤§è¯­è¨€æ¨¡å‹
- **[Chroma](https://www.trychroma.com/)** - å‘é‡æ•°æ®åº“
- **[Sentence Transformers](https://www.sbert.net/)** - è¯­ä¹‰åµŒå…¥

### æ•°æ®å¤„ç†

- **[PyPDF](https://pypdf.readthedocs.io/)** - PDF è§£æ
- **[Pydantic](https://docs.pydantic.dev/)** - æ•°æ®éªŒè¯
- **[Python-dotenv](https://github.com/theskumar/python-dotenv)** - ç¯å¢ƒå˜é‡ç®¡ç†

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT License** å¼€æºåè®®ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“§ è”ç³»æ–¹å¼

- **ä½œè€…**: tianshenbupa
- **é‚®ç®±**: lyc7895153@163.com
- **é¡¹ç›®ä¸»é¡µ**: https://github.com/tianshenbupa/stock-ai-assistant-langGraph
---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by tianshenbupa


</div>


